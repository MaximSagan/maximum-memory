{"version":3,"sources":["components/game-setup/styles.ts","constants.ts","components/image-card/styles.ts","components/image-card/ImageCard.tsx","components/game-setup/GameSetup.tsx","components/game-board/styles.ts","helpers.ts","components/game-complete-dialog/GameCompleteDialog.tsx","components/game-board/GameBoard.tsx","styles.ts","Game.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["useStyles","makeStyles","theme","root","width","padding","display","flexDirection","title","marginBottom","spacing","slider","radioGroup","justifyContent","label","color","palette","text","primary","cardThemeOption","height","startButton","marginTop","alignSelf","extendedIcon","marginRight","CARD_THEMES","id","DEFAULT_CARD_THEME_ID","frontBackCommonStyles","position","WebkitBackfaceVisibility","backfaceVisibility","borderWidth","borderStyle","borderRadius","shape","perspective","card","doubleClassSpecificity","overflow","textAlign","transition","transformStyle","cardFlipped","transform","cardMatched","animationName","animationDuration","front","borderColor","frontActive","main","back","background","backgroundColor","backgroundSize","cardImage","objectFit","cssProperties","React","memo","src","alt","className","isFaceUp","isActive","isMatched","divProps","classes","classNames","Card","raised","onConfirmGameSettings","randomImageId","useRef","Math","floor","random","useState","cardThemeId","setCardThemeId","numberOfCards","setNumberOfCards","handleThemeChange","useCallback","event","value","handleNumberOfCardsChange","handleConfirmButtonClick","cardTheme","find","component","Typography","variant","Slider","onChange","aria-labelledby","valueLabelDisplay","step","marks","min","max","NUMBER_OF_IMAGES_IN_CARD_THEME","FormControl","FormLabel","RadioGroup","row","aria-label","name","map","FormControlLabel","key","control","Radio","current","Fab","onClick","maxWidth","breakpoints","up","gameCards","flexWrap","marginLeft","imageCard","margin","gameInfo","alignItems","hideCardsCountdown","opacity","hideCardsCountdownFinished","progress","generateNumericArray","length","Array","from","_","k","shuffleArray","array","i","j","numberOfMisses","onConfirm","Dialog","open","disableBackdropClick","DialogTitle","DialogContent","DialogContentText","DialogActions","gameSettings","onEndGame","imageIndices","slice","imageId","displayIndex","initializeGameCards","setGameCards","isFlipAllowed","setIsFlipAllowed","setNumberOfMisses","randomizedHideOrder","useMemo","countDown$","useObservable","interval","pipe","take","intervalIndex","share","secondsUntilHideCards","useObservableState","console","log","hideAllCards$","concat","ignoreElements","timer","useSubscription","indexToFlip","cards","index","notifyMatchResult$","Subject","notifyMatchResultDelayed$","delay","isMatch","indices","cardIndex","includes","misses","percentageProgress","filter","Button","size","endIcon","gameCard","clickedCardIndex","clickedCard","unmatchedFaceUpCard","next","handleGameCardClick","LinearProgress","placeItems","default","Game","setGameSettings","handleEndGame","GameSetup","generateClassName","createGenerateClassName","productionPrefix","App","StylesProvider","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.f3c395cd.chunk.js","sourcesContent":["import { makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    width: 400,\n    padding: 20,\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  title: {\n    marginBottom: theme.spacing(3),\n  },\n  slider: {\n    marginBottom: theme.spacing(3),\n  },\n  radioGroup: {\n    display: \"flex\",\n    justifyContent: \"space-around\",\n  },\n  label: {\n    color: theme.palette.text.primary,\n    marginBottom: theme.spacing(3),\n  },\n  cardThemeOption: {\n    width: 128,\n    height: 128,\n  },\n  startButton: {\n    marginTop: theme.spacing(4),\n    alignSelf: \"flex-end\",\n  },\n  extendedIcon: {\n    marginRight: theme.spacing(1),\n  },\n}));\n","export const DEFAULT_NUMBER_OF_CARDS = 24;\nexport const MINIMUM_NUMBER_OF_CARDS = 4;\nexport const NUMBER_OF_IMAGES_IN_CARD_THEME = 20;\nexport const MAXIMUM_NUMBER_OF_CARDS = NUMBER_OF_IMAGES_IN_CARD_THEME * 2;\n\nexport const CARD_THEMES = [\n  {\n    id: \"countries\",\n    title: \"Countries\",\n  },\n  {\n    id: \"heroes\",\n    title: \"Heroes\",\n  },\n];\nexport const DEFAULT_CARD_THEME_ID = CARD_THEMES[0].id;\n\nexport const FLIP_TIME = 600;\n","import { makeStyles } from \"@material-ui/core/styles\";\r\nimport { CSSProperties } from \"@material-ui/core/styles/withStyles\";\r\nimport { FLIP_TIME } from \"../../constants\";\r\n\r\nexport const useStyles = makeStyles((theme) => {\r\n  const frontBackCommonStyles: CSSProperties = {\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    WebkitBackfaceVisibility: \"hidden\",\r\n    backfaceVisibility: \"hidden\",\r\n    borderWidth: 2,\r\n    borderStyle: \"solid\",\r\n    borderRadius: theme.shape.borderRadius,\r\n  };\r\n  return {\r\n    root: {\r\n      perspective: \"1000px\",\r\n    },\r\n    card: doubleClassSpecificity({\r\n      position: \"relative\",\r\n      overflow: \"visible\",\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      textAlign: \"center\",\r\n      transition: `transform ${FLIP_TIME}ms`,\r\n      transformStyle: \"preserve-3d\",\r\n    }),\r\n    cardFlipped: doubleClassSpecificity({\r\n      transform: \"rotateY(180deg)\",\r\n    }),\r\n    \"@keyframes highlightMatched\": {\r\n      \"0%\": { transform: \"scale(1)\" },\r\n      \"50%\": { transform: \"scale(1.1)\" },\r\n      \"100%\": { transform: \"scale(1)\" },\r\n    },\r\n    cardMatched: doubleClassSpecificity({\r\n      animationName: \"$highlightMatched\",\r\n      animationDuration: \"0.4s\",\r\n    }),\r\n    front: {\r\n      ...frontBackCommonStyles,\r\n      borderColor: \"transparent\",\r\n      transition: \"border-color 0.4s\",\r\n    },\r\n    frontActive: {\r\n      borderColor: theme.palette.primary.main,\r\n    },\r\n    back: {\r\n      ...frontBackCommonStyles,\r\n      // \"Upholstry\" pattern, from https://leaverou.github.io/css3patterns\r\n      background: `\r\n      radial-gradient(hsl(0, 100%, 27%) 4%, hsl(0, 100%, 18%) 9%, hsla(0, 100%, 20%, 0) 9%) 0 0,\r\n      radial-gradient(hsl(0, 100%, 27%) 4%, hsl(0, 100%, 18%) 8%, hsla(0, 100%, 20%, 0) 10%) 20px 20px,\r\n      radial-gradient(hsla(0, 100%, 30%, 0.8) 20%, hsla(0, 100%, 20%, 0)) 20px 0,\r\n      radial-gradient(hsla(0, 100%, 30%, 0.8) 20%, hsla(0, 100%, 20%, 0)) 0 20px,\r\n      radial-gradient(hsla(0, 100%, 20%, 1) 35%, hsla(0, 100%, 20%, 0) 60%) 20px 0,\r\n      radial-gradient(hsla(0, 100%, 20%, 1) 35%, hsla(0, 100%, 20%, 0) 60%) 40px 20px,\r\n      radial-gradient(hsla(0, 100%, 15%, 0.7), hsla(0, 100%, 20%, 0)) 0 0,\r\n      radial-gradient(hsla(0, 100%, 15%, 0.7), hsla(0, 100%, 20%, 0)) 20px 20px,\r\n      linear-gradient(45deg, hsla(0, 100%, 20%, 0) 49%, hsla(0, 100%, 0%, 1) 50%, hsla(0, 100%, 20%, 0) 70%) 0 0,\r\n      linear-gradient(-45deg, hsla(0, 100%, 20%, 0) 49%, hsla(0, 100%, 0%, 1) 50%, hsla(0, 100%, 20%, 0) 70%) 0 0\r\n    `,\r\n      backgroundColor: \"#300\",\r\n      backgroundSize: \"40px 40px\",\r\n      borderColor: \"black\",\r\n      color: \"white\",\r\n      transform: \"rotateY(180deg)\",\r\n    },\r\n    cardImage: {\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      objectFit: \"contain\",\r\n    },\r\n  };\r\n});\r\n\r\n/**\r\n * Increasing specificity due to known Material UI issue of inconsitency of class declaration order (https://github.com/mui-org/material-ui/issues/21627)\r\n */\r\nfunction doubleClassSpecificity(cssProperties: CSSProperties): CSSProperties {\r\n  return {\r\n    \"&&\": cssProperties,\r\n  };\r\n}\r\n","import React, { HTMLAttributes, ImgHTMLAttributes } from \"react\";\nimport { useStyles } from \"./styles\";\nimport Card from \"@material-ui/core/Card\";\nimport classNames from \"classnames\";\n\ntype Props = HTMLAttributes<HTMLDivElement> &\n  Pick<ImgHTMLAttributes<HTMLImageElement>, \"src\" | \"alt\"> & {\n    isFaceUp?: boolean;\n    isActive?: boolean;\n    isMatched?: boolean;\n  };\n\nexport default React.memo(function ImageCard({\n  src,\n  alt,\n  className,\n  isFaceUp = true,\n  isActive = false,\n  isMatched = false,\n  ...divProps\n}: Props) {\n  const classes = useStyles();\n\n  return (\n    <div {...divProps} className={classNames(classes.root, className)}>\n      <Card\n        raised\n        className={classNames(\n          classes.card,\n          !isFaceUp && classes.cardFlipped,\n          isMatched && classes.cardMatched\n        )}\n      >\n        <div\n          className={classNames(classes.front, isActive && classes.frontActive)}\n        >\n          <img className={classes.cardImage} src={src} alt={alt} />\n        </div>\n        <div className={classes.back} />\n      </Card>\n    </div>\n  );\n});\n","import React, { useState, useCallback, useRef } from \"react\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport { GameSettings } from \"../../types\";\r\nimport { useStyles } from \"./styles\";\r\nimport ImageCard from \"../image-card/ImageCard\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport {\r\n  DEFAULT_NUMBER_OF_CARDS,\r\n  MINIMUM_NUMBER_OF_CARDS,\r\n  MAXIMUM_NUMBER_OF_CARDS,\r\n  DEFAULT_CARD_THEME_ID,\r\n  CARD_THEMES,\r\n  NUMBER_OF_IMAGES_IN_CARD_THEME,\r\n} from \"../../constants\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrow\";\r\n\r\ninterface Props {\r\n  onConfirmGameSettings: (settings: GameSettings) => void;\r\n}\r\n\r\nexport default React.memo(function Settings({\r\n  onConfirmGameSettings,\r\n}: Props): JSX.Element {\r\n  const classes = useStyles();\r\n  const randomImageId = useRef(\r\n    Math.floor(Math.random() * NUMBER_OF_IMAGES_IN_CARD_THEME)\r\n  );\r\n\r\n  const [cardThemeId, setCardThemeId] = useState(DEFAULT_CARD_THEME_ID);\r\n  const [numberOfCards, setNumberOfCards] = useState(DEFAULT_NUMBER_OF_CARDS);\r\n\r\n  const handleThemeChange = useCallback(\r\n    (event: React.ChangeEvent<HTMLInputElement>, value: string) => {\r\n      setCardThemeId(value);\r\n    },\r\n    [setCardThemeId]\r\n  );\r\n  const handleNumberOfCardsChange = useCallback(\r\n    (event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n      setNumberOfCards(value as number);\r\n    },\r\n    [setNumberOfCards]\r\n  );\r\n  const handleConfirmButtonClick = useCallback(\r\n    (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n      onConfirmGameSettings({\r\n        cardTheme: CARD_THEMES.find(({ id }) => id === cardThemeId)!,\r\n        numberOfCards,\r\n      });\r\n    },\r\n    [onConfirmGameSettings, cardThemeId, numberOfCards]\r\n  );\r\n  return (\r\n    <Card className={classes.root} component=\"form\">\r\n      <Typography variant=\"h4\" className={classes.title}>\r\n        Game setup\r\n      </Typography>\r\n\r\n      <Typography id=\"number-of-cards-slider\" className={classes.label}>\r\n        Number of cards\r\n      </Typography>\r\n      <Slider\r\n        className={classes.slider}\r\n        value={numberOfCards}\r\n        onChange={handleNumberOfCardsChange}\r\n        aria-labelledby=\"number-of-cards-slider\"\r\n        valueLabelDisplay=\"on\"\r\n        step={2}\r\n        marks\r\n        min={MINIMUM_NUMBER_OF_CARDS}\r\n        max={MAXIMUM_NUMBER_OF_CARDS}\r\n      />\r\n\r\n      <FormControl component=\"fieldset\">\r\n        <FormLabel component=\"legend\" className={classes.label}>\r\n          Card theme\r\n        </FormLabel>\r\n        <RadioGroup\r\n          row\r\n          className={classes.radioGroup}\r\n          aria-label=\"card-theme\"\r\n          name=\"card-theme\"\r\n          value={cardThemeId}\r\n          onChange={handleThemeChange}\r\n        >\r\n          {CARD_THEMES.map((cardThemeOption) => (\r\n            <FormControlLabel //\r\n              key={cardThemeOption.id}\r\n              value={cardThemeOption.id}\r\n              control={<Radio />}\r\n              label={\r\n                <ImageCard\r\n                  className={classes.cardThemeOption}\r\n                  src={`images/${cardThemeOption.id}/${randomImageId.current}.png`}\r\n                  alt={cardThemeOption.title}\r\n                />\r\n              }\r\n            />\r\n          ))}\r\n        </RadioGroup>\r\n      </FormControl>\r\n\r\n      <Fab\r\n        color=\"primary\"\r\n        variant=\"extended\"\r\n        className={classes.startButton}\r\n        onClick={handleConfirmButtonClick}\r\n      >\r\n        <PlayArrowIcon className={classes.extendedIcon} />\r\n        Start game\r\n      </Fab>\r\n    </Card>\r\n  );\r\n});\r\n","import { makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\ninterface StyleProps {\r\n  numberOfCards: number;\r\n}\r\n\r\nexport const useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    maxWidth: 980,\r\n    width: `calc(100vw - ${theme.spacing(4)}px)`,\r\n    padding: theme.spacing(2.5),\r\n    [theme.breakpoints.up(\"lg\")]: {\r\n      width: `calc(100vw - ${theme.spacing(8)}px)`,\r\n    },\r\n  },\r\n  gameCards: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    flexWrap: \"wrap\",\r\n    marginLeft: -theme.spacing(1),\r\n    marginRight: -theme.spacing(1),\r\n  },\r\n  imageCard: ({ numberOfCards }: StyleProps) => ({\r\n    margin: theme.spacing(1),\r\n    width: numberOfCards < 20 ? 100 : 50,\r\n    height: numberOfCards < 20 ? 100 : 50,\r\n    [theme.breakpoints.up(\"lg\")]: {\r\n      width: numberOfCards < 20 ? 160 : 100,\r\n      height: numberOfCards < 20 ? 160 : 100,\r\n    },\r\n  }),\r\n  gameInfo: {\r\n    display: \"flex\",\r\n    flexDirection: \"row-reverse\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  hideCardsCountdown: {\r\n    opacity: 1,\r\n    transition: \"opacity 1s\",\r\n  },\r\n  hideCardsCountdownFinished: {\r\n    opacity: 0,\r\n  },\r\n  progress: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n}));\r\n","export function generateNumericArray(length: number): number[] {\n  return Array.from({ length }, (_, k) => k);\n}\n\nexport function shuffleArray<T>(array: T[]): T[] {\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [array[i], array[j]] = [array[j], array[i]];\n  }\n  return array;\n}\n","import React from \"react\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\n\r\ninterface Props {\r\n  numberOfCards: number;\r\n  numberOfMisses: number;\r\n  onConfirm: () => void;\r\n}\r\n\r\nexport default React.memo(function GameCompleteDialog({\r\n  numberOfCards,\r\n  numberOfMisses,\r\n  onConfirm,\r\n}: Props): JSX.Element {\r\n  return (\r\n    <Dialog\r\n      open\r\n      disableBackdropClick={true}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">Congratulations</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText id=\"alert-dialog-description\">\r\n          You matched {numberOfCards} cards with{\" \"}\r\n          {numberOfMisses === 0\r\n            ? \"no misses\"\r\n            : numberOfMisses === 1\r\n            ? \"only one miss\"\r\n            : `${numberOfMisses} misses`}\r\n          !\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Fab color=\"primary\" aria-label=\"add\" onClick={onConfirm}>\r\n          <CheckIcon />\r\n        </Fab>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n});\r\n","import React, { useState, useMemo } from \"react\";\r\nimport { GameSettings, GameCardStatus } from \"../../types\";\r\nimport ImageCard from \"../image-card/ImageCard\";\r\nimport { useStyles } from \"./styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport { Subject, concat, interval, timer } from \"rxjs\";\r\nimport { take, delay, map, share, ignoreElements } from \"rxjs/operators\";\r\nimport {\r\n  useSubscription,\r\n  useObservable,\r\n  useObservableState,\r\n} from \"observable-hooks\";\r\nimport { generateNumericArray, shuffleArray } from \"../../helpers\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport { FLIP_TIME, NUMBER_OF_IMAGES_IN_CARD_THEME } from \"../../constants\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CancelPresentationIcon from \"@material-ui/icons/CancelPresentation\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport GameCompleteDialog from \"../game-complete-dialog/GameCompleteDialog\";\r\nimport classNames from \"classnames\";\r\n\r\ninterface Props {\r\n  gameSettings: GameSettings;\r\n  onEndGame: () => void;\r\n}\r\n\r\nconst ALL_CARDS_VISIBLE_DURATION_SEC = 3;\r\n\r\nexport default React.memo(function GameBoard({\r\n  gameSettings,\r\n  onEndGame,\r\n}: Props): JSX.Element {\r\n  const { numberOfCards, cardTheme } = gameSettings;\r\n  const classes = useStyles({ numberOfCards });\r\n  const [gameCards, setGameCards] = useState(() =>\r\n    initializeGameCards(numberOfCards)\r\n  ); // Note: Using \"lazy initial state\" to avoid repeating randomizing logic on each render\r\n  const [isFlipAllowed, setIsFlipAllowed] = useState(false);\r\n  const [numberOfMisses, setNumberOfMisses] = useState(0);\r\n\r\n  // Hide cards after timeout, staggered in a randomized order\r\n  const randomizedHideOrder = useMemo(\r\n    () => shuffleArray(generateNumericArray(numberOfCards)),\r\n    [numberOfCards] // numberOfCards does not change so this will not re-calculate\r\n  );\r\n  const countDown$ = useObservable(() =>\r\n    interval(1000).pipe(\r\n      take(ALL_CARDS_VISIBLE_DURATION_SEC),\r\n      map((intervalIndex) => ALL_CARDS_VISIBLE_DURATION_SEC - intervalIndex - 1),\r\n      share()\r\n    )\r\n  );\r\n  const secondsUntilHideCards = useObservableState(countDown$, ALL_CARDS_VISIBLE_DURATION_SEC);\r\n  console.log({ secondsUntilHideCards });\r\n  const hideAllCards$ = useObservable(() =>\r\n    concat(\r\n      // Start hiding cards after the countdown finishes\r\n      countDown$.pipe(ignoreElements()),\r\n      timer(0, 50).pipe(take(numberOfCards))\r\n    )\r\n  );\r\n  useSubscription(\r\n    hideAllCards$,\r\n    (intervalIndex) => {\r\n      const indexToFlip = randomizedHideOrder[intervalIndex];\r\n      setGameCards((cards) =>\r\n        cards.map((card, index) =>\r\n          index === indexToFlip ? { ...card, isFaceUp: false } : card\r\n        )\r\n      );\r\n    },\r\n    null,\r\n    () => setIsFlipAllowed(true)\r\n  );\r\n\r\n  // Display match result after short delay (e.g. so we don't turn cards back face down before the user has a chance to see that they don't match).\r\n  const notifyMatchResult$ = useMemo(\r\n    () => new Subject<{ isMatch: boolean; indices: [number, number] }>(),\r\n    []\r\n  );\r\n  const notifyMatchResultDelayed$ = useObservable(() =>\r\n    notifyMatchResult$.pipe(delay(FLIP_TIME))\r\n  );\r\n  useSubscription(notifyMatchResultDelayed$, ({ isMatch, indices }) => {\r\n    setIsFlipAllowed(true);\r\n    if (isMatch) {\r\n      // Set two cards as matched\r\n      setGameCards((cards) =>\r\n        cards.map((card, cardIndex) =>\r\n          indices.includes(cardIndex)\r\n            ? { ...card, isMatched: true, isActive: false }\r\n            : card\r\n        )\r\n      );\r\n    } else {\r\n      // Set face down\r\n      setGameCards((cards) =>\r\n        cards.map((card, cardIndex) =>\r\n          indices.includes(cardIndex)\r\n            ? { ...card, isFaceUp: false, isActive: false }\r\n            : card\r\n        )\r\n      );\r\n      setNumberOfMisses((misses) => misses + 1);\r\n    }\r\n  });\r\n\r\n  const handleGameCardClick = (clickedCardIndex: number) => {\r\n    const clickedCard = gameCards[clickedCardIndex];\r\n    if (!isFlipAllowed || clickedCard.isFaceUp) {\r\n      return;\r\n    }\r\n    setGameCards(\r\n      gameCards.map((card, index) =>\r\n        clickedCardIndex === index\r\n          ? { ...card, isFaceUp: true, isActive: true }\r\n          : card\r\n      )\r\n    );\r\n    const unmatchedFaceUpCard = gameCards.find(\r\n      ({ isFaceUp, isMatched }) => isFaceUp && !isMatched\r\n    );\r\n    if (unmatchedFaceUpCard) {\r\n      const isMatch = clickedCard.imageId === unmatchedFaceUpCard.imageId;\r\n      notifyMatchResult$.next({\r\n        isMatch,\r\n        indices: [clickedCardIndex, unmatchedFaceUpCard.displayIndex],\r\n      });\r\n      setIsFlipAllowed(false); // Disable flipping of next card until result of this flip has been notified\r\n    }\r\n  };\r\n\r\n  const percentageProgress =\r\n    (gameCards.filter(({ isMatched }) => isMatched).length / numberOfCards) *\r\n    100;\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <div className={classes.gameInfo}>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          endIcon={<CancelPresentationIcon />}\r\n          onClick={onEndGame}\r\n        >\r\n          End game\r\n        </Button>\r\n        {numberOfMisses > 0 ? (\r\n          <Typography>Misses: {numberOfMisses}</Typography>\r\n        ) : (\r\n            <Typography\r\n              className={classNames(\r\n                classes.hideCardsCountdown,\r\n                secondsUntilHideCards === 0 && classes.hideCardsCountdownFinished\r\n              )}\r\n            >\r\n              Flipping cards in {secondsUntilHideCards}...\r\n            </Typography>\r\n          )}\r\n      </div>\r\n      <div className={classes.gameCards}>\r\n        {gameCards.map((gameCard, cardIndex) => (\r\n          <ImageCard\r\n            className={classes.imageCard}\r\n            src={`images/${cardTheme.id}/${gameCard.imageId}.png`}\r\n            alt=\"Card\"\r\n            isFaceUp={gameCard.isFaceUp}\r\n            isMatched={gameCard.isMatched}\r\n            isActive={gameCard.isActive}\r\n            onClick={() => handleGameCardClick(cardIndex)} // TODO: // Use memoized handler\r\n          />\r\n        ))}\r\n      </div>\r\n      <LinearProgress\r\n        className={classes.progress}\r\n        variant=\"determinate\"\r\n        value={percentageProgress}\r\n      />\r\n      {percentageProgress === 100 && (\r\n        <GameCompleteDialog\r\n          numberOfCards={numberOfCards}\r\n          numberOfMisses={numberOfMisses}\r\n          onConfirm={onEndGame}\r\n        />\r\n      )}\r\n    </Card>\r\n  );\r\n});\r\n\r\nfunction initializeGameCards(numberOfCards: number): GameCardStatus[] {\r\n  // Randomly pick which card images will be shown\r\n  const imageIndices = shuffleArray(\r\n    generateNumericArray(NUMBER_OF_IMAGES_IN_CARD_THEME)\r\n  ).slice(0, numberOfCards / 2);\r\n  // Shuffle two sets of the images to into their display order\r\n  return shuffleArray([...imageIndices, ...imageIndices]).map(\r\n    (imageId, displayIndex) => ({\r\n      displayIndex,\r\n      imageId,\r\n      isFaceUp: true,\r\n      isMatched: false,\r\n      isActive: false,\r\n    })\r\n  );\r\n}\r\n","import { makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"grid\",\n    placeItems: \"center\",\n    height: \"100vh\",\n    backgroundColor: theme.palette.background.default,\n  },\n}));\n","import React, { useState, useCallback } from \"react\";\r\nimport GameSetup from \"./components/game-setup/GameSetup\";\r\nimport { GameSettings } from \"./types\";\r\nimport GameBoard from \"./components/game-board/GameBoard\";\r\nimport { useStyles } from \"./styles\";\r\n\r\nfunction Game(): JSX.Element {\r\n  const classes = useStyles();\r\n  const [gameSettings, setGameSettings] = useState<GameSettings | null>(null);\r\n\r\n  const handleEndGame = useCallback(() => setGameSettings(null), []);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {gameSettings ? (\r\n        <GameBoard gameSettings={gameSettings} onEndGame={handleEndGame} />\r\n      ) : (\r\n        <GameSetup onConfirmGameSettings={setGameSettings} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Game;\r\n","import React from \"react\";\r\nimport {\r\n  StylesProvider,\r\n  createGenerateClassName,\r\n} from \"@material-ui/core/styles\";\r\nimport Game from \"./Game\";\r\n\r\nconst generateClassName = createGenerateClassName({\r\n  productionPrefix: \"mm\",\r\n});\r\n\r\nfunction App(): JSX.Element {\r\n  return (\r\n    <StylesProvider generateClassName={generateClassName}>\r\n      <Game />\r\n    </StylesProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}